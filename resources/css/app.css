@import 'leaflet/dist/leaflet.css';

@tailwind base;
@tailwind components;

@layer utilities {
    /* Text Colors */
    .text-theme-title {
        @apply text-yellow-200
    dark:text-gray-100
    christmas:text-christmas-berry
    halloween:text-halloween-pumpkin;
    }

    .text-theme-book-title {
        @apply text-blue-600
    dark:text-gray-700
    christmas:text-christmas-green
    halloween:text-halloween-purple;
    }

    .text-theme-primary {
        @apply text-yellow-200
    dark:text-gray-400
    christmas:text-christmas-berry
    halloween:text-halloween-orange;
    }

    .text-theme-secondary {
        @apply text-white
    dark:text-gray-400
    christmas:text-christmas-gold
    halloween:text-halloween-moonlight;
    }

    /* Background Colors */
    .bg-theme-primary {
        @apply bg-blue-600
    dark:bg-gray-800
    christmas:bg-christmas-green
    halloween:bg-halloween-midnight;
    }

    .bg-theme-secondary {
        @apply bg-gray-300
    dark:bg-gray-300
    christmas:bg-christmas-holly
    halloween:bg-halloween-witch;
    }

    .bg-theme-content {
        @apply bg-blue-200
    dark:bg-gray-300
    christmas:bg-christmas-snow
    halloween:bg-halloween-ghost;
    }

    .bg-theme-button {
        @apply bg-red-700
    dark:bg-red-700
    hover:bg-purple-400
    dark:hover:bg-purple-400
    christmas:hover:bg-christmas-mint
    halloween:hover:bg-halloween-spooky;
    }

    /* Rainbow Gradient */
    .bg-rainbow {
        @apply bg-gradient-to-r from-red-500 via-orange-500 via-yellow-500 via-green-500 via-blue-500 to-purple-500
        dark:from-purple-900 dark:via-blue-900 dark:via-indigo-900 dark:via-cyan-900 dark:via-teal-900 dark:to-emerald-900
        christmas:from-christmas-green christmas:via-christmas-green christmas:via-christmas-green christmas:via-christmas-holly christmas:via-christmas-holly christmas:via-christmas-holly christmas:via-christmas-pine christmas:via-christmas-pine christmas:via-christmas-pine christmas:to-christmas-berry
        fireworks:from-red-500 fireworks:via-red-500 fireworks:via-blue-500 fireworks:via-blue-500 fireworks:via-red-500 fireworks:via-red-500 fireworks:via-blue-500 fireworks:via-blue-500 fireworks:via-red-500 fireworks:via-red-500 fireworks:via-blue-500 fireworks:via-blue-500 fireworks:to-red-500
        halloween:from-halloween-orange halloween:via-halloween-orange halloween:via-halloween-pumpkin halloween:via-halloween-pumpkin halloween:via-halloween-purple halloween:via-halloween-purple halloween:via-halloween-witch halloween:via-halloween-witch halloween:via-halloween-midnight halloween:via-halloween-midnight halloween:via-halloween-black halloween:via-halloween-black halloween:to-halloween-orange;
    }

    /* Border Colors */
    .border-theme-primary {
        @apply border-yellow-200
    dark:border-indigo-600
    christmas:border-christmas-gold
    halloween:border-halloween-pumpkin;
    }

    .border-theme-input {
        @apply border-blue-700
    dark:border-gray-800
    christmas:border-christmas-holly
    halloween:border-halloween-purple;
    }

    /* Button States */
    .bg-theme-button-active {
        @apply bg-yellow-400
    dark:bg-amber-400
    christmas:bg-christmas-gold
    halloween:bg-halloween-candy;
    }

    .border-theme-button-active {
        @apply border-blue-600
    dark:border-amber-400
    christmas:border-christmas-berry
    halloween:border-halloween-pumpkin;
    }

    .hover\:bg-theme-button-active:hover {
        @apply hover:bg-yellow-500
    dark:hover:bg-yellow-500
    christmas:hover:bg-christmas-silver
    halloween:hover:bg-halloween-orange;
    }

    .active\:bg-theme-button:active {
        @apply active:bg-yellow-900
    dark:active:bg-yellow-700
    christmas:active:bg-christmas-berry
    halloween:active:bg-halloween-witch;
    }

    .focus\:border-theme-button:focus {
        @apply focus:border-blue-900
    dark:focus:border-amber-600
    christmas:focus:border-christmas-gold
    halloween:focus:border-halloween-candy;
    }

    .focus\:shadow-theme-button:focus {
        @apply focus:shadow-outline-blue
    dark:focus:shadow-outline-amber
    christmas:focus:shadow-outline-christmas-mint
    halloween:focus:shadow-outline-halloween-spooky;
    }

    .text-theme-button {
        @apply text-yellow-200
    dark:text-gray-100
    christmas:text-christmas-snow
    halloween:text-halloween-ghost;
    }

    .text-theme-button-active {
        @apply text-gray-800
    dark:text-gray-900
    christmas:text-christmas-berry
    halloween:text-halloween-black;
    }

    .hover\:text-theme-button-hover {
        @apply hover:text-gray-800
    dark:hover:text-gray-900
    christmas:hover:text-christmas-berry
    halloween:hover:text-halloween-midnight;
    }

    .hover\:bg-theme-button:hover {
        @apply hover:bg-yellow-400
    dark:hover:bg-yellow-500
    christmas:hover:bg-christmas-mint
    halloween:hover:bg-halloween-candy;
    }
}

/* Legacy page content styles */
.page-content h2 {
    @apply text-2xl font-bold;
}

.page-content a {
    @apply text-blue-400 underline decoration-2 underline-offset-2;
    transition: all 0.3s ease;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

.page-content a:hover {
    @apply text-blue-300;
    text-decoration-color: rgba(59, 130, 246, 0.7);
    text-shadow: 0 1px 4px rgba(59, 130, 246, 0.4);
    transform: translateY(-1px);
}

.page-content a:active {
    @apply text-blue-500;
    transform: translateY(0);
}

.page-content a:visited {
    @apply text-purple-400;
}

.page-content a:visited:hover {
    @apply text-purple-300;
    text-shadow: 0 1px 4px rgba(168, 85, 247, 0.4);
}

/* Elegant Book Text Container */
.text-container {
    background: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(20px);
    border-radius: 20px;
    padding: 2rem;
    margin: 0 auto;
    max-width: 1200px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4),
        0 0 0 1px rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.1);
    position: relative;
    overflow: hidden;
}

/* Subtle gradient overlay */
.text-container::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 255, 255, 0.3),
        transparent
    );
}

/* Single-column book layout */
.page-content {
    font-size: 1.1rem;
    line-height: 1.8;
    text-align: justify;
    color: rgba(255, 255, 255, 0.95);
    max-width: 800px;
    margin: 0 auto;
}

/* Prevent headings from breaking across columns */
.page-content h1,
.page-content h2,
.page-content h3,
.page-content h4,
.page-content h5,
.page-content h6 {
    margin-top: 2.5rem;
    margin-bottom: 1.5rem;
    font-weight: 600;
    color: rgba(255, 255, 255, 0.98);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
}

/* Auto-style paragraphs */
.page-content p {
    margin-bottom: 1.4rem;
    text-indent: 1.5rem;
    color: rgba(255, 255, 255, 0.92);
}

/* First paragraph special styling */
.page-content p:first-of-type {
    font-size: 1.25rem;
    font-weight: 300;
    text-indent: 0;
    margin-bottom: 1.8rem;
    color: rgba(255, 255, 255, 0.95);
}

/* Drop cap for first letter */
.page-content p:first-of-type::first-letter {
    font-size: 2.5em;
    float: left;
    line-height: 0.9;
    margin: 0.05em 0.08em 0.02em 0;
    font-weight: 400;
    color: rgba(255, 255, 255, 0.98);
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
    shape-outside: margin-box;
}

/* Anchor styles for page content */
.page-content a {
    @apply text-blue-400 underline decoration-2 underline-offset-2;
    transition: all 0.3s ease;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: rgba(
        96,
        165,
        250,
        0.95
    ) !important; /* Override any inherited colors */
}

.page-content a:hover {
    @apply text-blue-300;
    text-decoration-color: rgba(59, 130, 246, 0.7);
    text-shadow: 0 1px 4px rgba(59, 130, 246, 0.4);
    transform: translateY(-1px);
    color: rgba(147, 197, 253, 0.98) !important;
}

.page-content a:active {
    @apply text-blue-500;
    transform: translateY(0);
    color: rgba(59, 130, 246, 0.9) !important;
}

.page-content a:visited {
    @apply text-purple-400;
    color: rgba(196, 181, 253, 0.9) !important;
}

.page-content a:visited:hover {
    @apply text-purple-300;
    text-shadow: 0 1px 4px rgba(168, 85, 247, 0.4);
    color: rgba(196, 181, 253, 0.95) !important;
}

/* Style bold text */
.page-content strong,
.page-content b {
    font-weight: 700;
    color: rgba(255, 255, 255, 0.98);
}

/* Style italic text */
.page-content em,
.page-content i {
    font-style: italic;
    color: rgba(255, 255, 255, 0.95);
}

/* Responsive: mobile adjustments */
@media (max-width: 768px) {
    .text-container {
        padding: 1.5rem;
        margin: 0 1rem;
        border-radius: 16px;
    }

    .page-content {
        font-size: 1rem;
        max-width: 100%;
    }

    .page-content p {
        text-indent: 0;
        margin-bottom: 1.2rem;
    }

    .page-content p:first-of-type::first-letter {
        font-size: 2em;
    }
}

@tailwind utilities;


@layer components {
  /* Shared static mini book card styles (used by BooksGrid and SimilarBooks) */
  .mini-book {
    position: relative;
    transform-style: preserve-3d;
  }

  .mini-book__texture::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: radial-gradient(
        circle at 20% 80%,
        rgba(255, 255, 255, 0.1) 0%,
        transparent 50%
      ),
      radial-gradient(
        circle at 80% 20%,
        rgba(255, 255, 255, 0.1) 0%,
        transparent 50%
      ),
      linear-gradient(
        45deg,
        transparent 40%,
        rgba(255, 255, 255, 0.05) 50%,
        transparent 60%
      );
    pointer-events: none;
    z-index: 1;
  }

  .mini-book::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
      135deg,
      rgba(0, 0, 0, 0.2) 0%,
      rgba(0, 0, 0, 0.1) 25%,
      rgba(0, 0, 0, 0.3) 50%,
      rgba(0, 0, 0, 0.1) 75%,
      rgba(0, 0, 0, 0.2) 100%
    );
    pointer-events: none;
    z-index: 1;
  }

  /* Subtle radial highlight overlay (no corner fold) */
  .mini-book::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(
      circle at 30% 30%,
      rgba(255, 255, 255, 0.1) 0%,
      transparent 50%
    );
    pointer-events: none;
    z-index: 1;
  }

  .mini-book__border {
    border: 5px solid rgba(255, 255, 255, 0.3);
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.1),
      inset 0 0 20px rgba(255, 255, 255, 0.05), 
      0 8px 32px rgba(0, 0, 0, 0.3),
      inset -3px 0 6px rgba(0, 0, 0, 0.2);
  }

  .mini-book__spine {
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 18px;
    background: linear-gradient(to left, #1f2937, #374151, #1f2937);
    box-shadow: inset 3px 0 6px rgba(0, 0, 0, 0.6),
      inset -2px 0 3px rgba(255, 255, 255, 0.15),
      -2px 0 6px rgba(0, 0, 0, 0.3);
    transform: translateZ(12px);
    border-left: 2px solid rgba(0, 0, 0, 0.4);
  }

  .mini-book__title {
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8), 0 4px 8px rgba(0, 0, 0, 0.6),
      0 8px 16px rgba(0, 0, 0, 0.4), 0 1px 0 rgba(255, 255, 255, 0.1),
      -1px 0 0 rgba(255, 255, 255, 0.1);
    position: relative;
  }
}
